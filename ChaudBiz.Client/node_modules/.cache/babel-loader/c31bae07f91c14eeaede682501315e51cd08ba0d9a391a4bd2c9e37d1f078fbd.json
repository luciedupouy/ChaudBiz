{"ast":null,"code":"import React,{useState,useEffect}from'react';import{MapContainer,TileLayer,Marker,Popup}from'react-leaflet';import'leaflet/dist/leaflet.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LeafletMap=_ref=>{let{address}=_ref;const[lat,setLat]=useState(null);const[lon,setLon]=useState(null);useEffect(()=>{const fetchCoordinates=async()=>{if(!address)return;// Ne rien faire si l'adresse est vide\ntry{const response=await fetch(\"https://nominatim.openstreetmap.org/search?format=json&q=\".concat(encodeURIComponent(address)));const data=await response.json();if(data&&data.length>0&&data[0].lat&&data[0].lon){setLat(data[0].lat);setLon(data[0].lon);console.log(data[0].lat,data[0].lon);}}catch(error){console.error('Error fetching coordinates:',error);}};fetchCoordinates();},[address]);if(lat===null||lon===null){return null;// Ne rien rendre si les coordonnées ne sont pas disponibles\n}return/*#__PURE__*/_jsxs(MapContainer,{center:[lat,lon],zoom:13,style:{height:'400px',width:'100%'},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(Marker,{position:[lat,lon],children:/*#__PURE__*/_jsx(Popup,{children:address})})]});};export default LeafletMap;","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Popup","jsx","_jsx","jsxs","_jsxs","LeafletMap","_ref","address","lat","setLat","lon","setLon","fetchCoordinates","response","fetch","concat","encodeURIComponent","data","json","length","console","log","error","center","zoom","style","height","width","children","url","position"],"sources":["/Users/luciedupouy/chaudbiz/ChaudBiz.Client/src/components/Map.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nconst LeafletMap = ({ address }) => {\n  const [lat, setLat] = useState(null);\n  const [lon, setLon] = useState(null);\n\n  useEffect(() => {\n    const fetchCoordinates = async () => {\n      if (!address) return; // Ne rien faire si l'adresse est vide\n\n      try {\n        const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(address)}`);\n        const data = await response.json();\n        if (data && data.length > 0 && data[0].lat && data[0].lon) {\n          setLat(data[0].lat);\n          setLon(data[0].lon);\n          console.log(data[0].lat, data[0].lon);\n        }\n      } catch (error) {\n        console.error('Error fetching coordinates:', error);\n      }\n    };\n    fetchCoordinates();\n  }, [address]);\n\n  if (lat === null || lon === null) {\n    return null; // Ne rien rendre si les coordonnées ne sont pas disponibles\n  }\n\n  return (\n    <MapContainer center={[lat, lon]} zoom={13} style={{ height: '400px', width: '100%' }}>\n      <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\n      <Marker position={[lat, lon]}>\n        <Popup>{address}</Popup>\n      </Marker>\n    </MapContainer>\n  );\n};\n\nexport default LeafletMap;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,YAAY,CAAEC,SAAS,CAAEC,MAAM,CAAEC,KAAK,KAAQ,eAAe,CACtE,MAAO,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAC7B,KAAM,CAACE,GAAG,CAAEC,MAAM,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CACpC,KAAM,CAACe,GAAG,CAAEC,MAAM,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAEpCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CAACL,OAAO,CAAE,OAAQ;AAEtB,GAAI,CACF,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAC,KAAK,6DAAAC,MAAA,CAA6DC,kBAAkB,CAACT,OAAO,CAAC,CAAE,CAAC,CACvH,KAAM,CAAAU,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClC,GAAID,IAAI,EAAIA,IAAI,CAACE,MAAM,CAAG,CAAC,EAAIF,IAAI,CAAC,CAAC,CAAC,CAACT,GAAG,EAAIS,IAAI,CAAC,CAAC,CAAC,CAACP,GAAG,CAAE,CACzDD,MAAM,CAACQ,IAAI,CAAC,CAAC,CAAC,CAACT,GAAG,CAAC,CACnBG,MAAM,CAACM,IAAI,CAAC,CAAC,CAAC,CAACP,GAAG,CAAC,CACnBU,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC,CAAC,CAAC,CAACT,GAAG,CAAES,IAAI,CAAC,CAAC,CAAC,CAACP,GAAG,CAAC,CACvC,CACF,CAAE,MAAOY,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CACF,CAAC,CACDV,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAACL,OAAO,CAAC,CAAC,CAEb,GAAIC,GAAG,GAAK,IAAI,EAAIE,GAAG,GAAK,IAAI,CAAE,CAChC,MAAO,KAAI,CAAE;AACf,CAEA,mBACEN,KAAA,CAACP,YAAY,EAAC0B,MAAM,CAAE,CAACf,GAAG,CAAEE,GAAG,CAAE,CAACc,IAAI,CAAE,EAAG,CAACC,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAO,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAC,QAAA,eACpF1B,IAAA,CAACJ,SAAS,EAAC+B,GAAG,CAAC,oDAAoD,CAAE,CAAC,cACtE3B,IAAA,CAACH,MAAM,EAAC+B,QAAQ,CAAE,CAACtB,GAAG,CAAEE,GAAG,CAAE,CAAAkB,QAAA,cAC3B1B,IAAA,CAACF,KAAK,EAAA4B,QAAA,CAAErB,OAAO,CAAQ,CAAC,CAClB,CAAC,EACG,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAF,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}