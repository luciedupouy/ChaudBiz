{"ast":null,"code":"import React,{useState,useEffect}from'react';import Navordi from'../components/Navordi';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Rdv=()=>{const[lieu,setLieu]=useState('');const[description,setDescription]=useState('');const[dateDebut,setDateDebut]=useState('');const[clientId,setClientId]=useState('');const[utilisateurId,setUtilisateurId]=useState('');const[clientsList,setClientsList]=useState([]);const[utilisateursList,setUtilisateursList]=useState([]);useEffect(()=>{const fetchClients=async()=>{try{const response=await axios.get('http://localhost:5257/api/client');if(response&&response.data){setClientsList(response.data);}}catch(error){console.error('Erreur lors de la récupération des clients:',error);}};fetchClients();},[]);useEffect(()=>{const fetchUtilisateurs=async()=>{try{const response=await axios.get('http://localhost:5257/api/utilisateur');if(response&&response.data){setUtilisateursList(response.data);}}catch(error){console.error('Erreur lors de la récupération des utilisateurs:',error);}};fetchUtilisateurs();},[]);const handleDateDebutChange=event=>{setDateDebut(event.target.value);};const ajoutRdv=async()=>{try{const response=await axios.post('http://localhost:5257/api/rdv/',{Lieu:lieu,Description:description,DateRdv:dateDebut,UtilisateurId:utilisateurId,ClientId:clientId});if(response&&response.data){console.log('Réponse du serveur:',response.data);}else{console.error('Réponse du serveur non valide:',response);}}catch(error){console.error('Erreur lors de la requête:',error.response?error.response.data:error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(Navordi,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Ajout d'un rendez-vous\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/client\",className:\"bouton\",children:\"Cr\\xE9er un client\"})}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"select\",{value:clientId,onChange:e=>setClientId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionnez le client\"}),clientsList.map(client=>/*#__PURE__*/_jsx(\"option\",{value:client.clientId,children:client.nomClient},client.clientId))]}),/*#__PURE__*/_jsxs(\"select\",{value:utilisateurId,onChange:e=>setUtilisateurId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionnez l'utilisateur\"}),utilisateursList.map(utilisateur=>/*#__PURE__*/_jsx(\"option\",{value:utilisateur.utilisateurId,children:utilisateur.nomUtilisateur},utilisateur.utilisateurId))]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Entrez l'adresse\",value:lieu,onChange:e=>setLieu(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Description\",value:description,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-selector\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dateDebut\",children:\"Date et heure de d\\xE9but :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",id:\"dateDebut\",name:\"dateDebut\",value:dateDebut,onChange:handleDateDebutChange})]}),/*#__PURE__*/_jsx(Link,{to:\"/planninga\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:ajoutRdv,children:\"Ajouter\"})})]})]});};export default Rdv;","map":{"version":3,"names":["React","useState","useEffect","Navordi","axios","Link","jsx","_jsx","jsxs","_jsxs","Rdv","lieu","setLieu","description","setDescription","dateDebut","setDateDebut","clientId","setClientId","utilisateurId","setUtilisateurId","clientsList","setClientsList","utilisateursList","setUtilisateursList","fetchClients","response","get","data","error","console","fetchUtilisateurs","handleDateDebutChange","event","target","value","ajoutRdv","post","Lieu","Description","DateRdv","UtilisateurId","ClientId","log","message","className","children","to","onChange","e","map","client","nomClient","utilisateur","nomUtilisateur","type","placeholder","htmlFor","id","name","onClick"],"sources":["/Users/luciedupouy/chaudbiz/ChaudBiz.Client/src/pages/Rdv.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Navordi from '../components/Navordi';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nconst Rdv = () => {\n    const [lieu, setLieu] = useState('');\n    const [description, setDescription] = useState('');\n    const [dateDebut, setDateDebut] = useState('');\n    const [clientId, setClientId] = useState('');\n    const [utilisateurId, setUtilisateurId] = useState('');\n    const [clientsList, setClientsList] = useState([]);\n    const [utilisateursList, setUtilisateursList] = useState([]);\n\n    useEffect(() => {\n        const fetchClients = async () => {\n            try {\n                const response = await axios.get('http://localhost:5257/api/client');\n                if (response && response.data) {\n                    setClientsList(response.data);\n                }\n            } catch (error) {\n                console.error('Erreur lors de la récupération des clients:', error);\n            }\n        };\n\n        fetchClients();\n    }, []);\n\n    useEffect(() => {\n        const fetchUtilisateurs = async () => {\n            try {\n                const response = await axios.get('http://localhost:5257/api/utilisateur');\n                if (response && response.data) {\n                    setUtilisateursList(response.data);\n                }\n            } catch (error) {\n                console.error('Erreur lors de la récupération des utilisateurs:', error);\n            }\n        };\n\n        fetchUtilisateurs();\n    }, []);\n\n    const handleDateDebutChange = (event) => {\n        setDateDebut(event.target.value);\n    };\n\n    const ajoutRdv = async () => {\n        try {\n            const response = await axios.post('http://localhost:5257/api/rdv/', {\n                Lieu: lieu,\n                Description: description,\n                DateRdv: dateDebut,\n                UtilisateurId: utilisateurId,\n                ClientId: clientId\n            });\n\n            if (response && response.data) {\n                console.log('Réponse du serveur:', response.data);\n            } else {\n                console.error('Réponse du serveur non valide:', response);\n            }\n        } catch (error) {\n            console.error('Erreur lors de la requête:', error.response ? error.response.data : error.message);\n        }\n    };\n\n    return (\n        <div className='login'>\n            <Navordi />\n            <h1>Ajout d'un rendez-vous</h1>\n            <p>\n                    <Link to=\"/client\" className=\"bouton\">Créer un client</Link>\n                \n            </p>\n            <form>\n                <select value={clientId} onChange={(e) => setClientId(e.target.value)}>\n                    <option value=\"\">Sélectionnez le client</option>\n                    {clientsList.map((client) => (\n                        <option key={client.clientId} value={client.clientId}>\n                            {client.nomClient}\n                        </option>\n                    ))}\n                </select>\n                \n                <select value={utilisateurId} onChange={(e) => setUtilisateurId(e.target.value)}>\n                    <option value=\"\">Sélectionnez l'utilisateur</option>\n                    {utilisateursList.map((utilisateur) => (\n                        <option key={utilisateur.utilisateurId} value={utilisateur.utilisateurId}>\n                            {utilisateur.nomUtilisateur}\n                        </option>\n                    ))}\n                </select>\n                <input\n                    type=\"text\"\n                    placeholder=\"Entrez l'adresse\"\n                    value={lieu}\n                    onChange={(e) => setLieu(e.target.value)}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"Description\"\n                    value={description}\n                    onChange={(e) => setDescription(e.target.value)}\n                />\n                <div className=\"date-selector\">\n                    <label htmlFor=\"dateDebut\">Date et heure de début :</label>\n                    <input\n                        type=\"datetime-local\"\n                        id=\"dateDebut\"\n                        name=\"dateDebut\"\n                        value={dateDebut}\n                        onChange={handleDateDebutChange}\n                    />\n                </div>\n                <Link to=\"/planninga\">\n                    <button type=\"button\" onClick={ajoutRdv}>\n                        Ajouter\n                    </button>\n                </Link>\n            </form>\n        </div>\n    );\n}\n\nexport default Rdv;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}