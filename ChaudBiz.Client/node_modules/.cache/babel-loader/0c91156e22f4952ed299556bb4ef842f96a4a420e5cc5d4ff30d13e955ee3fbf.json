{"ast":null,"code":"import React,{useState}from'react';import'../styles/Login.css';import{Redirect}from'react-router-dom';import axios from'axios';import'../styles/Global.css';// Importez le style global\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Inscription=()=>{const[nom,setNom]=useState('');const[prenom,setPrenom]=useState('');const[mail,setMail]=useState('');const[mdp,setMdp]=useState('');const[role,setRole]=useState('');const roles=['ADMINISTRATEUR','OUVRIER'];const[inscriptionReussie,setInscriptionReussie]=useState(false);const handleInscription=async()=>{try{const response=await axios.post('http://localhost:5257/api/utilisateur/inscription',{NomUtilisateur:nom,PrenomUtilisateur:prenom,MailUtilisateur:mail,Mdp:mdp,Role:role});if(response&&response.data){console.log('Réponse du serveur:',response.data);// Gérer la réponse du serveur ici (redirection, affichage d'un message, etc.)\nsetInscriptionReussie(true);}else{console.error('Réponse du serveur non valide:',response);// Gérer les erreurs ici (affichage d'un message d'erreur, etc.)\n}}catch(error){console.error('Erreur lors de la requête:',error.response?error.response.data:error.message);// Gérer les erreurs ici (affichage d'un message d'erreur, etc.)\n}};if(inscriptionReussie){return/*#__PURE__*/_jsx(Redirect,{to:\"/connexion\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Inscription\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Entrez votre nom\",value:nom,onChange:e=>setNom(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Entrez votre pr\\xE9nom\",value:prenom,onChange:e=>setPrenom(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Entrez votre adresse e-mail\",value:mail,onChange:e=>setMail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Entrez votre mot de passe\",value:mdp,onChange:e=>setMdp(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:role,onChange:e=>setRole(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionnez un r\\xF4le\"}),roles.map(r=>/*#__PURE__*/_jsx(\"option\",{value:r,children:r},r))]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleInscription,children:\"S'inscrire\"})]})]});};export default Inscription;","map":{"version":3,"names":["React","useState","Redirect","axios","jsx","_jsx","jsxs","_jsxs","Inscription","nom","setNom","prenom","setPrenom","mail","setMail","mdp","setMdp","role","setRole","roles","inscriptionReussie","setInscriptionReussie","handleInscription","response","post","NomUtilisateur","PrenomUtilisateur","MailUtilisateur","Mdp","Role","data","console","log","error","message","to","className","children","type","placeholder","value","onChange","e","target","map","r","onClick"],"sources":["/Users/luciedupouy/chaudbiz/ChaudBiz.Client/src/pages/Inscription.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styles/Login.css';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport  '../styles/Global.css'; // Importez le style global\n\n\nconst Inscription = () => {\n  const [nom, setNom] = useState('');\n  const [prenom, setPrenom] = useState('');\n  const [mail, setMail] = useState('');\n  const [mdp, setMdp] = useState('');\n  const [role, setRole] = useState('');\n\n  const roles = ['ADMINISTRATEUR', 'OUVRIER'];\n  const [inscriptionReussie, setInscriptionReussie] = useState(false);\n\n\n  const handleInscription = async () => {\n    try {\n      const response = await axios.post('http://localhost:5257/api/utilisateur/inscription', {\n        NomUtilisateur: nom,\n        PrenomUtilisateur: prenom,\n        MailUtilisateur: mail,\n        Mdp: mdp,\n        Role: role,\n      });\n  \n      if (response && response.data) {\n        console.log('Réponse du serveur:', response.data);\n        // Gérer la réponse du serveur ici (redirection, affichage d'un message, etc.)\n        setInscriptionReussie(true);\n      } else {\n        console.error('Réponse du serveur non valide:', response);\n        // Gérer les erreurs ici (affichage d'un message d'erreur, etc.)\n      }\n    } catch (error) {\n      console.error('Erreur lors de la requête:', error.response ? error.response.data : error.message);\n      // Gérer les erreurs ici (affichage d'un message d'erreur, etc.)\n    }\n  };\n  if (inscriptionReussie) {\n    return <Redirect to=\"/connexion\" />;\n  }\n\n  return (\n    <div className=\"login\">\n      <h1>Inscription</h1>\n      <form>\n        <input\n          type=\"text\"\n          placeholder='Entrez votre nom'\n          value={nom}\n          onChange={(e) => setNom(e.target.value)}\n        />\n\n        <input\n          type=\"text\"\n          placeholder='Entrez votre prénom'\n          value={prenom}\n          onChange={(e) => setPrenom(e.target.value)}\n        />\n\n        <input\n          type=\"email\"\n          placeholder='Entrez votre adresse e-mail'\n          value={mail}\n          onChange={(e) => setMail(e.target.value)}\n        />\n\n        <input\n          type=\"password\"\n          placeholder='Entrez votre mot de passe'\n          value={mdp}\n          onChange={(e) => setMdp(e.target.value)}\n        />\n\n        <select value={role} onChange={(e) => setRole(e.target.value)}>\n          <option value=\"\">Sélectionnez un rôle</option>\n          {roles.map((r) => (\n            <option key={r} value={r}>\n              {r}\n            </option>\n          ))}\n        </select>\n\n        <button type=\"button\" onClick={handleInscription}>\n          S'inscrire\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Inscription;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}