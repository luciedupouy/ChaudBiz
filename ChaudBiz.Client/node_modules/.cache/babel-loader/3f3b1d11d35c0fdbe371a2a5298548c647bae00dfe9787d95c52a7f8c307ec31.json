{"ast":null,"code":"import Navordi from'../components/Navordi';import React,{useState,useEffect}from'react';import'../styles/AccueilA.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faToolbox,faCalendarAlt,faTools}from'@fortawesome/free-solid-svg-icons';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AccueilA=()=>{const[materielEnAttente,setMaterielEnAttente]=useState(0);const[rendezVousDuJour,setRdvDuJour]=useState(0);const[chantiersEnAttente,setChantiersEnAttente]=useState(0);// État pour stocker le nombre de chantiers en attente\nconst[rdvs,setRdv]=useState([]);// Effectue la requête pour récupérer les chantiers en attente\nuseEffect(()=>{fetch('http://localhost:5257/api/chantier/upcoming').then(response=>{if(!response.ok){throw new Error('Failed to fetch chantiers en attente');}return response.json();}).then(data=>{setChantiersEnAttente(data.length);}).catch(error=>{console.error('Error fetching chantiers en attente:',error);});},[]);useEffect(()=>{fetch('http://localhost:5257/api/materiel/by-etat/1').then(response=>{if(!response.ok){throw new Error('Failed to fetch matériels en attente');}return response.json();}).then(data=>{setMaterielEnAttente(data.length);}).catch(error=>{console.error('Error fetching matériels en attente:',error);});},[]);useEffect(()=>{fetch('http://localhost:5257/api/rdv/by-date').then(response=>{if(!response.ok){throw new Error('Failed to fetch rdv du jour');}return response.json();}).then(data=>{setRdvDuJour(data.length);setRdv(data);}).catch(error=>{console.error('Error fetching rdv du jour:',error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"accueila\",children:[/*#__PURE__*/_jsx(Navordi,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"indicateurs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"indicateur\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Chantiers en attente\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faToolbox,className:\"icone\",size:\"6x\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nombre\",children:chantiersEnAttente})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"indicateur\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Mat\\xE9riel en attente\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTools,className:\"icone\",size:\"6x\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nombre\",children:materielEnAttente})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"indicateur\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Rendez-vous du jour\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCalendarAlt,className:\"icone\",size:\"6x\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nombre\",children:rendezVousDuJour})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rendez_vous\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mes rendez-vous\"}),/*#__PURE__*/_jsx(Link,{to:\"/rdv\",className:\"bouton\",children:\"Ajouter un rendez-vous \"}),rendezVousDuJour>0?/*#__PURE__*/_jsx(\"div\",{children:rdvs.map((rdv,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"rdv\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Date : \",rdv.dateRdv]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Description : \",rdv.description]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Lieu : \",rdv.lieu]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Client :\",rdv.client]})]},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"Aucun rendez-vous aujourd'hui\"})]})]});};export default AccueilA;","map":{"version":3,"names":["Navordi","React","useState","useEffect","FontAwesomeIcon","faToolbox","faCalendarAlt","faTools","Link","jsx","_jsx","jsxs","_jsxs","AccueilA","materielEnAttente","setMaterielEnAttente","rendezVousDuJour","setRdvDuJour","chantiersEnAttente","setChantiersEnAttente","rdvs","setRdv","fetch","then","response","ok","Error","json","data","length","catch","error","console","className","children","icon","size","to","map","rdv","index","dateRdv","description","lieu","client"],"sources":["/Users/luciedupouy/chaudbiz/ChaudBiz.Client/src/pages/AccueilA.js"],"sourcesContent":["import Navordi from '../components/Navordi';\nimport React, { useState, useEffect } from 'react';\nimport '../styles/AccueilA.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faToolbox, faCalendarAlt, faTools } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\n\n\nconst AccueilA = () => {\n    const [materielEnAttente, setMaterielEnAttente]=useState(0);\n    const [rendezVousDuJour, setRdvDuJour]=useState(0);\n    const [chantiersEnAttente, setChantiersEnAttente] = useState(0); // État pour stocker le nombre de chantiers en attente\n    const [rdvs, setRdv]=useState([]);\n    // Effectue la requête pour récupérer les chantiers en attente\n    useEffect(() => {\n        fetch('http://localhost:5257/api/chantier/upcoming')\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Failed to fetch chantiers en attente');\n                }\n                return response.json();\n            })\n            .then(data => {\n                setChantiersEnAttente(data.length); \n            })\n            .catch(error => {\n                console.error('Error fetching chantiers en attente:', error);\n            });\n    }, []); \n    useEffect(() => {\n        fetch('http://localhost:5257/api/materiel/by-etat/1')\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Failed to fetch matériels en attente');\n                }\n                return response.json();\n            })\n            .then(data => {\n                setMaterielEnAttente(data.length); \n            })\n            .catch(error => {\n                console.error('Error fetching matériels en attente:', error);\n            });\n    }, []); \n\n    useEffect(() => {\n        fetch('http://localhost:5257/api/rdv/by-date')\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Failed to fetch rdv du jour');\n                }\n                return response.json();\n            })\n            .then(data => {\n                setRdvDuJour(data.length); \n                setRdv(data);\n            })\n            .catch(error => {\n                console.error('Error fetching rdv du jour:', error);\n            });\n    }, []); \n\n    return(\n        <div className=\"accueila\">\n            <Navordi></Navordi>\n            <div className=\"indicateurs\">\n                {/* Indicateur pour les chantiers en attente */}\n                <div className=\"indicateur\">\n                    <span className=\"label\">Chantiers en attente</span>\n                    <FontAwesomeIcon icon={faToolbox} className=\"icone\" size='6x'/>\n                    <span className=\"nombre\">{chantiersEnAttente}</span>\n                </div>\n                {/* Indicateur pour le matériel en attente */}\n                <div className=\"indicateur\">\n                    <span className=\"label\">Matériel en attente</span>\n                    <FontAwesomeIcon icon={faTools} className=\"icone\" size='6x' />\n                    <span className=\"nombre\">{materielEnAttente}</span>\n                </div>\n                {/* Indicateur pour le nombre de rendez-vous du jour */}\n                <div className=\"indicateur\">\n                    <span className=\"label\">Rendez-vous du jour</span>\n                    <FontAwesomeIcon icon={faCalendarAlt} className=\"icone\" size='6x'/>                   \n                    <span className=\"nombre\">{rendezVousDuJour}</span>\n                </div>\n            </div>\n            <div className='rendez_vous'>\n                <h1>Mes rendez-vous</h1>\n                <Link to=\"/rdv\" className=\"bouton\">Ajouter un rendez-vous </Link>\n                {rendezVousDuJour>0 ? (\n                    <div>\n                    {rdvs.map((rdv, index)=>(\n                        <div key={index} className=\"rdv\">\n                            <div>Date : {rdv.dateRdv}</div>\n                            <div>Description : {rdv.description}</div>\n                            <div>Lieu : {rdv.lieu}</div>\n                            <div>Client :{rdv.client}</div>\n                        </div>\n                    ))}\n                    </div>\n                ) : (\n                    <p>Aucun rendez-vous aujourd'hui</p>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default AccueilA;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}