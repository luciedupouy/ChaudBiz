{"ast":null,"code":"var _jsxFileName = \"/Users/luciedupouy/chaudbiz/ChaudBiz.Client/src/pages/Rdv.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Navordi from '../components/Navordi';\nimport axios from 'axios';\nimport '../styles/Login.css';\nimport '../styles/Global.css';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Rdv = () => {\n  _s();\n  const [lieu, setLieu] = useState('');\n  const [description, setDescription] = useState('');\n  const [dateDebut, setDateDebut] = useState('');\n  const [client, setClient] = useState('');\n  const [utilisateur, setUtilisateur] = useState();\n  const [clientsList, setClientsList] = useState([]);\n  const [utilisateursList, setUtilisateursList] = useState([]);\n  useEffect(() => {\n    const fetchClients = async () => {\n      try {\n        const response = await axios.get('http://localhost:5257/api/client');\n        if (response && response.data) {\n          setClientsList(response.data);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la récupération des clients:', error);\n      }\n    };\n    fetchClients();\n  }, []);\n  useEffect(() => {\n    const fetchUtilisateur = async () => {\n      try {\n        const response = await axios.get('http://localhost:5257/api/utilisateur');\n        if (response && response.data) {\n          setUtilisateursList(response.data);\n        }\n      } catch (error) {\n        console.error('Erreur lors de la récupération des clients:', error);\n      }\n    };\n    fetchUtilisateur();\n  }, []);\n  const handleDateDebutChange = event => {\n    setDateDebut(event.target.value);\n  };\n  const ajoutRdv = async () => {\n    try {\n      const response = await axios.post('http://localhost:5257/api/rdv/', {\n        Lieu: lieu,\n        Description: description,\n        DateRdv: dateDebut,\n        Utilisateur: {\n          UtilisateurId: utilisateur\n        },\n        Client: {}\n      });\n      if (response && response.data) {\n        console.log('Réponse du serveur:', response.data);\n      } else {\n        console.error('Réponse du serveur non valide:', response);\n      }\n    } catch (error) {\n      console.error('Erreur lors de la requête:', error.response ? error.response.data : error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(Navordi, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Ajout d'un rendez-vous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: client,\n        onChange: e => setClient(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"S\\xE9lectionnez le client\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), clientsList.map(client => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: client.clientId,\n          children: client.nomClient\n        }, client.clientId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/client\",\n          children: \"Ajouter un client\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: utilisateur,\n        onChange: e => setUtilisateur(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"S\\xE9lectionnez l'utilisateur\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), utilisateursList.map(utilisateur => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: utilisateur.utilisateurId,\n          children: utilisateur.nomUtilisateur\n        }, utilisateur.utilisateurId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Entrez l'adresse\",\n        value: lieu,\n        onChange: e => setLieu(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Description\",\n        value: description,\n        onChange: e => setDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"date-selector\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"dateDebut\",\n          children: \"Date et heure de d\\xE9but :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          id: \"dateDebut\",\n          name: \"dateDebut\",\n          value: dateDebut,\n          onChange: handleDateDebutChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/planninga\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: ajoutRdv,\n          children: \"Ajouter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n_s(Rdv, \"BmIk5yl5vr2YosQ8piKsjf9dpew=\");\n_c = Rdv;\nexport default Rdv;\nvar _c;\n$RefreshReg$(_c, \"Rdv\");","map":{"version":3,"names":["React","useState","useEffect","Navordi","axios","Link","jsxDEV","_jsxDEV","Rdv","_s","lieu","setLieu","description","setDescription","dateDebut","setDateDebut","client","setClient","utilisateur","setUtilisateur","clientsList","setClientsList","utilisateursList","setUtilisateursList","fetchClients","response","get","data","error","console","fetchUtilisateur","handleDateDebutChange","event","target","value","ajoutRdv","post","Lieu","Description","DateRdv","Utilisateur","UtilisateurId","Client","log","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","map","clientId","nomClient","to","utilisateurId","nomUtilisateur","type","placeholder","htmlFor","id","name","onClick","_c","$RefreshReg$"],"sources":["/Users/luciedupouy/chaudbiz/ChaudBiz.Client/src/pages/Rdv.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Navordi from '../components/Navordi';\nimport axios from 'axios';\nimport '../styles/Login.css';\nimport '../styles/Global.css';\nimport { Link } from 'react-router-dom';\n\nconst Rdv = () => {\n    const [lieu, setLieu] = useState('');\n    const [description, setDescription] = useState('');\n    const [dateDebut, setDateDebut] = useState('');\n    const [client, setClient] = useState('');\n    const [utilisateur, setUtilisateur] = useState();\n    const [clientsList, setClientsList] = useState([]);\n    const [utilisateursList, setUtilisateursList]=useState([]);\n\n    useEffect(() => {\n        const fetchClients = async () => {\n            try {\n                const response = await axios.get('http://localhost:5257/api/client');\n                if (response && response.data) {\n                    setClientsList(response.data);\n                }\n            } catch (error) {\n                console.error('Erreur lors de la récupération des clients:', error);\n            }\n        };\n\n        fetchClients();\n    }, []);\n    useEffect(() => {\n        const fetchUtilisateur = async () => {\n            try {\n                const response = await axios.get('http://localhost:5257/api/utilisateur');\n                if (response && response.data) {\n                    setUtilisateursList(response.data);\n                }\n            } catch (error) {\n                console.error('Erreur lors de la récupération des clients:', error);\n            }\n        };\n\n        fetchUtilisateur();\n    }, []);\n\n    const handleDateDebutChange = (event) => {\n        setDateDebut(event.target.value);\n    };\n\n\n    const ajoutRdv = async () => {\n        try {\n            const response = await axios.post('http://localhost:5257/api/rdv/', {\n                Lieu: lieu,\n                Description: description,\n                DateRdv: dateDebut,\n                Utilisateur: {\n                    UtilisateurId: utilisateur\n                },\n                Client: {\n\n                }\n            });\n\n            if (response && response.data) {\n                console.log('Réponse du serveur:', response.data);\n            } else {\n                console.error('Réponse du serveur non valide:', response);\n            }\n        } catch (error) {\n            console.error('Erreur lors de la requête:', error.response ? error.response.data : error.message);\n        }\n    };\n\n    return (\n        <div className='login'>\n            <Navordi />\n            <h1>Ajout d'un rendez-vous</h1>\n            <form>\n                <select value={client} onChange={(e) => setClient(e.target.value)}>\n                    <option value=\"\">Sélectionnez le client</option>\n                    {clientsList.map((client) => (\n                        <option key={client.clientId} value={client.clientId}>\n                            {client.nomClient}\n                        </option>\n                    ))}\n                </select>\n                <p>\n                <Link to=\"/client\">Ajouter un client</Link>\n                </p>\n                <select value={utilisateur} onChange={(e) => setUtilisateur(e.target.value)}>\n                    <option value=\"\">Sélectionnez l'utilisateur</option>\n                    {utilisateursList.map((utilisateur) => (\n                        <option key={utilisateur.utilisateurId} value={utilisateur.utilisateurId}>\n                            {utilisateur.nomUtilisateur}\n                        </option>\n                    ))}\n                </select>\n                <input\n                    type=\"text\"\n                    placeholder=\"Entrez l'adresse\"\n                    value={lieu}\n                    onChange={(e) => setLieu(e.target.value)}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"Description\"\n                    value={description}\n                    onChange={(e) => setDescription(e.target.value)}\n                />\n                <div className=\"date-selector\">\n                    <label htmlFor=\"dateDebut\">Date et heure de début :</label>\n                    <input\n                        type=\"datetime-local\"\n                        id=\"dateDebut\"\n                        name=\"dateDebut\"\n                        value={dateDebut}\n                        onChange={handleDateDebutChange}\n                    />\n                </div>\n                <Link to=\"/planninga\">\n                <button type=\"button\" onClick={ajoutRdv}>\n                    Ajouter\n                </button>\n                </Link>\n            </form>\n        </div>\n    );\n}\n\nexport default Rdv;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}